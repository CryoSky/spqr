MPICC = mpicc
#CFLAGS = -c -O3 -DWARMUP -DFROZEN
CFLAGS = -c -O3 -DFROZEN
#CFLAGS = -c -O3 
MPICCFLAGS=-DMPIMC	
all: T_ANN

%.o : %.c
	$(MPICC) $(CFLAGS) -DMPIMC -o $@ -c $< -lm


T_ANN : sim_anneal.o  sa_impl.o mc_bond_lists.o  mc_cells.o  mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o  mc_integrate.o  mc_verlet_lists.o mc_global.o mc_base_pairing.o mc_utils.o
	$(MPICC) sim_anneal.o sa_impl.o  mc_bond_lists.o  mc_cells.o mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o mc_integrate.o  mc_verlet_lists.o  mc_global.o mc_base_pairing.o mc_utils.o -o T_ANN -lm -O3 

MPIMC : mpi_mc.o  mc_bond_lists.o  mc_cells.o  mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o  mc_integrate.o  mc_verlet_lists.o  mc_global.o mc_base_pairing.o mc_utils.o
	$(MPICC)  	mpi_mc.o  mc_bond_lists.o  mc_cells.o mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o mc_integrate.o  mc_verlet_lists.o  mc_global.o mc_base_pairing.o mc_utils.o -o MPIMC -lm -O3  

PT : parallel_temp.o  pt_impl.o mc_bond_lists.o  mc_cells.o  mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o  mc_integrate.o  mc_verlet_lists.o  mc_global.o mc_base_pairing.o mc_utils.o
	$(MPICC)  	parallel_temp.o pt_impl.o  mc_bond_lists.o  mc_cells.o mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o mc_integrate.o  mc_verlet_lists.o mc_utils.o  mc_base_pairing.o mc_global.o -o PT -lm -O3 

PFINDMIN :  find_min_energs_par.o  mc_bond_lists.o  mc_cells.o  mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o  mc_integrate.o  mc_verlet_lists.o  mc_global.o mc_base_pairing.o  mc_utils.o
	$(MPICC)  	find_min_energs_par.o  mc_bond_lists.o  mc_cells.o mc_checkpoints.o  mc_end.o  mc_energies.o  mc_initialization.o mc_integrate.o  mc_verlet_lists.o  mc_global.o mc_base_pairing.o mc_utils.o -o PFINDMIN -lm -O3  

clean : 
	rm *.o MPIMC T_ANN PT 
